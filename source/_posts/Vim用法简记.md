---
title: Vim用法简记
date: 2022-02-10 21:23:42
categories:
- 工具用法
tags:
- vim
- 编辑器之神
---
# 简述
Vim是从 vi 发展出来的一个文本编辑器。主流linux均自带vi编辑器，在这里简单记录vim用法，vi也基本相同，只是有些功能没有vim丰富。

# 模式
1. 命令模式
vim有三大模式，一般你使用vim这个命令打开一个文本，或者新建一个文本时，你进入的是命令模式
命令模式是vim打开文件后默认进入的模式，这个模式不能插入字符你无法正常编辑文本，但是可以使用命令来操作文本，例如下面的一些命令。输入冒号“：”，文本的左下角将会出现闪动的光标，你可以在这里输入一些复杂命令。注意vim很重要的退出操作，也是在这里操作的-输入q表示正常退出，前提你没有修改文本，如果文本修改了，将提示你无法正常退出，此时，你可以选择输入：q! 表示强制退出，不保存任何更改。你也可以输入：wq 表示保存修改并退出。其他不常用命令可自行查看文档。

2. 插入模式
可按ins键进入插入模式，插入模式相当于编辑模式，你对文本有更改权限的话，按下这些按键即可进行编辑更改，此时命令模式下的命令将不可用，可按ESC键退出插入模式
也可输入如下字母：
i 在当前位置生前插入
I 在当前行首插入
a 在当前位置后插入
A 在当前行尾插入
o 在当前行之后插入一行
O 在当前行之前插入一行

3. 可视化模式
在命令模式下按下ctrl+v即可进入可视化模式，也叫批量选中，可批量选中文本，批量操作
- 把光标停留在想要加入字符所在的列的第一行
- 移动光标选择添加字符所在列
- "I"进入插入模式
- 写入要插入的字符
- 按"ESC"退出插入模式，字符批量添加成功

# 使用
使用 vim命令新建或打开文本文件
```
vim /home/filename   用vim打开文件
````

默认打开文件时为命令模式，在此模式下，主要用来浏览，搜索等，当然此模式下还有很多强大功能，现阶段为基础，先跳过.
```
在命令模式下，
<Ctrl-f>：向下移动一屏。
<Ctrl-d>：向下移动半屏。
<Ctrl-b>：向上移动一屏。
<Ctrl-u>：向上移动半屏。

gg 跳转到文件头
G 跳转到文件尾
gg=G自动缩进 （非常有用）
冒号+行号，跳转到指定行；比如:120，跳转到120行；
$ 跳转到行尾
0 跳转到行首

h 左移一个字符
l 右移一个字符
k 上移一个字符
j 下移一个字符

dd 删除当前行
dj 删除当前行和上一行
dk 删除当前行和下一行
10dd 删除当前行开始的共10行
D 删除当前字符至行尾
```

## 其他命令

下面命令是输入第一个字符，比如： 比如/ 后，在左下角命令行输入命令
```
/text  查找text，按n健查找下一个，按N健查找前一个
?text  查找text，反向查找，按n健查找下一个，按N健查找前一个
:set ignorecase  忽略大小写的查找
:set noignorecase   不忽略大小写的查找
:s/old/new/ 用old替换new，替换当前行的第一个匹配
:s/old/new/g 用old替换new，替换当前行的所有匹配
:%s/old/new/ 用old替换new，替换所有行的第一个匹配
:%s/old/new/g 用old替换new，替换整个文件的所有匹配 也可以用v或V选择指定行，然后执行
```

# 退出

```
esc 退出插入模式
:wq 写入并退出
:q! 强制退出
```

vim作为编辑器之神，功能及其强大，命令及其丰富，从基础记起，逐步掌握。